# 3Week_정회성.md

## Title: [3Week] 정회성

### 미션 요구사항 분석 & 체크리스트

---
### 필수미션
- [x] 네이버클라우드 플랫폼을 통한 배포, 도메인, HTTPS 까지 적용
  - [x] ```https://도메인/``` 형태로 접속이 가능
  - [x] 운영서버에서 각종 소셜로그인, 인스타 아이디 연결이 잘 되어야 한다.
- [x] 내가 받은 호감리스트(/usr/likeablePerson/toList)에서 성별 필터링 기능 구현
  - [x] 내가 받은 호감리스트에서 특정 성별을 가진 사람에게서 받은 호감만 필터링해서 볼 수 있다.
    - [x] 쿼리 스트링을 이용하여 데이터 가져오기
    - [x] 나에게 호감 표시를 한 사람의 성별 구분하기
### 선택미션
- [ ] 젠킨스를 통해서 리포지터리의 main 브랜치에 커밋 이벤트가 발생하면 자동으로 배포가 진행되도록
  - [ ] 리포지터리의 main 브랜치에 커밋 이벤트가 발생하면 자동으로 배포가 진행
- [x] 내가 받은 호감리스트(/usr/likeablePerson/toList)에서 호감사유 필터링기능 구현
  - [x] 내가 받은 호감리스트에서 특정 호감사유의 호감만 필터링해서 볼 수 있다.
    - [x] list에 일단 전부 집어넣는다.
    - [x] list를 돌면서 조건에 해당이 되지 않으면 제거한다.
    - [x] list를 그대로 사용할 시 오류가 발생하므로 Iterator를 사용한다.
- [x] 내가 받은 호감리스트(/usr/likeablePerson/toList)에서 정렬기능
  - [x] 최신순(기본)
    - [x] 가장 최근에 받은 호감표시를 우선적으로 표시
  - [x] 날짜순
    - [x] 가장 오래전에 받은 호감표시를 우선적으로 표시
  - [x] 인기 많은 순
    - [x] 가장 인기가 많은 사람들의 호감표시를 우선적으로 표시
  - [x] 인기 적은 순
    - [x] 가장 인기가 적은 사람들의 호감표시를 우선적으로 표시
  - [x] 성별순
    - [x] 여성에게 받은 호감표시를 먼저 표시하고, 그 다음 남자에게 받은 호감표시를 후에 표시
    - [x] 2순위 정렬조건으로는 최신순
  - [x] 호감사유순
    - [x] 외모 때문에 받은 호감표시를 먼저 표시하고, 그 다음 성격 때문에 받은 호감표시를 후에 표시, 마지막으로 능력 때문에 받은 호감표시를 후에 표시
    - [x] 2순위 정렬조건으로는 최신순

### N주차 미션 요약

---

**[접근 방법]**
- 필수미션 1. 네이버 클라우드 플랫폼을 통한 배포, 도메인, HTTPS 까지 적용
  - 강사님의 가이드 영상을 그대로 따라 진행하였다.
- 필수미션 2. 내가 받은 호감리스트에서 성별 필터링기능 구현
  - 우선 모든 호감 리스트를 list에 집어넣었다.
  - list를 돌면서 ```likeablePerson.getFromInstaMember().getGender().equals(gender)```을 통해 원하는 성별인지 확인한다.
    - 만약 원하는 성별이 아니면 리스트에서 제거한다.
  - gender에 ```""```이 입력되는 경우에는 모든 성별이 들어가야 하므로 확인 자체를 진행하지 않았다.
  - 이후에 ```stream.filter```를 이용하여 보다 간편하게 코드를 작성하였다.
- 선택미션 2. 내가 받은 호감리스트에서 호감 사유 필터링 기능 구현
  - 성별을 구분하는 것과 마찬가지로 구현하여다.
  - ```likeablePerson.getAttractiveTypeCode() == Integer.parseInt(attractiveTypeCode)```으로 ```stream.filter```를 돌렸다.
- 선택미션 3. 내가 받은 호감리스트에서 정렬 기능
  - ```stream.sorted```를 이용하여 리스트를 정렬하였다.
  - 각각의 경우를 switch case문을 사용하여 구현하였다.
    - 최신순
      - 수정 날짜를 역순으로 정렬
    - 날짜순
      - 수정 날짜를 오름차순으로 정렬
    - 인기 많은 순
      - ```likeablePerson.getFromInstaMember().getToLikeablePeople().size()```을 역순으로 정렬
    - 인기 적은 순
      - ```likeablePerson.getFromInstaMember().getToLikeablePeople().size()```을 오름차순으로 정렬 
    - 성별순
      - "W"가 "M"보다 뒤에 있으므로 ```likeablePerson.getFromInstaMember()```을 역순으로 정렬
      - ```thenComparing()```을 이용하여 2순위로 최신순으로 정렬
    - 호감사유순
      - 1번이 외모 2번이 성격 3번이 능력이므로 ```attractiveTypeCode```를 오름차순으로 정렬
      - ```thenComparing()```을 이용하여 2순위로 최신순으로 정렬

**[특이사항]**
- 필수미션 1. 네이버 클라우드 플랫폼을 통한 배포, 도메인, HTTPS 까지 적용
  - 이 부분은 저번주에 구현을 완료했었다.
  - 하지만 구매한 도메인에 문제가 있었는지 환불이 되었고, 결국 새로운 도메인을 구매하여 처음부터 다시 진행하였다.
  - 두 번 하니까 확실하게 배울 수 있었다...
- 필수미션 2. 내가 받은 호감리스트에서 성별 필터링기능 구현
  - 처음에는 for문을 돌면서 리스트에서 값을 제거하였다.
  - 하지만 이렇게 하니 리스트에서 값이 빠져서 for문을 제대로 돌지 못했다.
  - 따라서 Iterator를 사용하여 코드를 수정하였다.
  - 이후 강사님의 힌트 코드를 보고 stream을 이용하여 보다 간편하게 코드를 작성하였다.
  - stream을 조금 더 자유자재로 사용할 수 있게 연습할 필요가 있어보인다.
- 선택미션 1. 젠킨스를 통해서 리포지터리의 main 브랜치에 커밋 이벤트가 발생하면 자동으로 배포가 진행되도록
  - 이 부분은 시간이 부족하여 진행하지 못하였다.
- 선택미션 2. 내가 받은 호감리스트에서 호감 사유 필터링 기능 구현
  - 이 부분은 필수미션 2와 거의 유사하여 쉽게 진행하였다.
- 선택미션 3. 내가 받은 호감리스트에서 정렬 기능
  - 강사님의 힌트 코드를 토대로 작성하였는데 어떤 것을 기준으로 정렬할지 결정하는 것이 어려웠다.
  - chatGPT의 도움을 받아서 코드를 작성하였고 이번 미션을 토대로 stream의 filter 기능과 sorted 기능을 어떻게 사용하는지 확실하게 배울 수 있었다.